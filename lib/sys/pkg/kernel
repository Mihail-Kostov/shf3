function help/sys/pkg() {
  import sys
  sys/help ${FUNCNAME} $*
  $failure
}

### zypper interface
# TODO: patch

function sys/pkg() {
  local _cmd=${1:-help}
  shift

  echo
  msg "Package Manager"
  gui/line

  case "${_cmd}" in

    # Repo list
    lr|repos)
      sys/call sys/pkg repos $*
    ;;

    # Refresh repos
    ref|refresh)
      sys/call sys/pkg refresh $*
    ;;

    # Add repo
    ar|addrepo)
      sys/call sys/pkg addrepo $*
    ;;

    # Remove repo
    rr|removerepo)
      sys/call sys/pkg removerepo $*
    ;;

    in|install)
      sys/call sys/pkg install $*
    ;;

    rm|remove)
      sys/call sys/pkg remove $*
    ;;

    # List updates
    lu|list-updates)
      sys/call sys/pkg listupdates $*
    ;;

    # Update
    up|update)
      sys/call sys/pkg update $*
    ;;

    se|search)
      sys/call sys/pkg search $*
    ;;

    if|info)
      sys/call sys/pkg info $*
    ;;

    *|help)
      help/sys/pkg
    ;;
  esac
}
