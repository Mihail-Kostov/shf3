#!/bin/bash
source $(dirname ${BASH_SOURCE})/../lib/header
import gui
import sys

function help/pkgmgr() {
  cat << EOF

Package Manager

Usage: ${gbn} command  options  description
              se       package
              in       package

OSX: /etc/sudoers
 %admin ALL = (root) NOPASSWD:/opt/local/bin/port

Ubuntu: /etc/sudoers
 %admin ALL = (root) NOPASSWD:/usr/bin/apt-get
 %admin ALL = (root) NOPASSWD:/usr/bin/apt-cache

EOF
  exit ${_false_}
}

### os
_os=$(sys/os)
case "${_os}" in
  osx)
    import sys/osx/pkg
  ;;
  linux)
    import sys/linux/pkg
  ;;
esac

### args
_cmd="${1:-se}"
shift
_arg=$*

### main
case "${_cmd}" in
  help)
    echo
    msg "Help"
    gui/line
    help/pkgmgr
  ;;
  in|install)
    echo
    msg "Install"
    gui/line
    sys/${_os}/pkg/install ${_arg}
  ;;
  se|search)
    echo
    msg "Search"
    gui/line
    sys/${_os}/pkg/search ${_arg}
  ;;
esac
